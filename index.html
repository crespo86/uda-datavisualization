<html>
<div id="chartContainer">
  <script src="http://d3js.org/d3.v3.min.js"></script>
  <script src="http://dimplejs.org/dist/dimple.v2.2.0.min.js"></script>
  <style>
  </style>
  <script type="text/javascript">

    function draw(baseball) {

      // make frame
      var svg = dimple.newSvg("#chartContainer", 700, 420);

      // make title
      svg.append("text")
         .attr("x", (svg[0][0].clientWidth / 2))
         .attr("y", 14)
         .attr("text-anchor", "middle")
         .style("font-size", "15px")
         .style("font-weight", "bold")
         .text("MLB's Count of StolenBase and StolenBase Rate");

      // make chart frame
      var myChart = new dimple.chart(svg, baseball);

      // set chart vounds
      myChart.setBounds(60, 60, 600, 300);

      // set x to yearID
      var x = myChart.addTimeAxis("x", "YEAR");
      x.tickFormat = "%Y";

      // set y to sum of SB/G and CS/G, which is count of SB + CS in one game

      var y = myChart.addMeasureAxis("y", 'C/G')

      // set p to percentage by SB/G / CS/G which is SB%

      myChart.addMeasureAxis("p", 'C/G');

      var pies = myChart.addSeries("S/C", dimple.plot.pie);

      pies.radius = 15;

      myChart.addLegend(300, 30, 360, 20, "right");

      myChart.draw();

      x.titleShape.text("Year")
                  .attr('fill', 'black');
      y.titleShape.text("Count of StolenBase and Failure");



    };
  </script>

  <script type="text/javascript">
    d3.csv("Teams_sb.csv", draw);
  </script>
</div>
</html>
